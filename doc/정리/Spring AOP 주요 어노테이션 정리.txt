# ğŸ§© Spring AOP ì£¼ìš” ì–´ë…¸í…Œì´ì…˜ ì •ë¦¬ ë° ìƒ˜í”Œ ì½”ë“œ

---

## âœ… @Before
- íƒ€ê²Ÿ ë©”ì„œë“œ **ì‹¤í–‰ ì´ì „**ì— ê³µí†µ ê¸°ëŠ¥ ì‹¤í–‰

```java
@Aspect
@Component
public class LoggingAspect {

    @Before("execution(* com.example.service.*.*(..))")
    public void logBefore(JoinPoint joinPoint) {
        System.out.println("[Before] ë©”ì„œë“œ í˜¸ì¶œ: " + joinPoint.getSignature().getName());
    }
}
```

---

## âœ… @After
- íƒ€ê²Ÿ ë©”ì„œë“œ **ì‹¤í–‰ ì™„ë£Œ í›„** (ì •ìƒ/ì˜ˆì™¸ ìƒê´€ì—†ì´ ë¬´ì¡°ê±´ ì‹¤í–‰)

```java
@Aspect
@Component
public class LoggingAspect {

    @After("execution(* com.example.service.*.*(..))")
    public void logAfter(JoinPoint joinPoint) {
        System.out.println("[After] ë©”ì„œë“œ ì¢…ë£Œ: " + joinPoint.getSignature().getName());
    }
}
```

---

## âœ… @AfterReturning
- íƒ€ê²Ÿ ë©”ì„œë“œê°€ **ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„**, ë¦¬í„´ê°’ì— ì ‘ê·¼ ê°€ëŠ¥

```java
@Aspect
@Component
public class LoggingAspect {

    @AfterReturning(pointcut = "execution(* com.example.service.*.*(..))", returning = "result")
    public void logAfterReturning(JoinPoint joinPoint, Object result) {
        System.out.println("[AfterReturning] ê²°ê³¼: " + result);
    }
}
```

---

## âœ… @AfterThrowing
- íƒ€ê²Ÿ ë©”ì„œë“œì—ì„œ **ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œë§Œ** ì‹¤í–‰

```java
@Aspect
@Component
public class LoggingAspect {

    @AfterThrowing(pointcut = "execution(* com.example.service.*.*(..))", throwing = "ex")
    public void logException(JoinPoint joinPoint, Exception ex) {
        System.out.println("[AfterThrowing] ì˜ˆì™¸ ë°œìƒ: " + ex.getMessage());
    }
}
```

---

## âœ… @Around
- ë©”ì„œë“œ ì‹¤í–‰ **ì „/í›„/ì˜ˆì™¸ ëª¨ë‘ ì œì–´ ê°€ëŠ¥** â†’ ê°€ì¥ ê°•ë ¥í•œ advice
- `ProceedingJoinPoint` ì‚¬ìš© (ë°˜ë“œì‹œ `proceed()` í˜¸ì¶œ í•„ìš”)

```java
@Aspect
@Component
public class ExecutionTimeAspect {

    @Around("execution(* com.example.service.*.*(..))")
    public Object measureTime(ProceedingJoinPoint joinPoint) throws Throwable {
        long start = System.currentTimeMillis();

        Object result = joinPoint.proceed(); // ì›ë˜ ë©”ì„œë“œ ì‹¤í–‰

        long end = System.currentTimeMillis();
        System.out.println("[Around] ì‹¤í–‰ ì‹œê°„: " + (end - start) + "ms");
        return result;
    }
}
```

---

## ğŸ§  í¬ì¸íŠ¸ì»· ì˜ˆì‹œ ëª¨ìŒ

| í‘œí˜„ì‹ | ì„¤ëª… |
|--------|------|
| `execution(* com.example.service.*.*(..))` | íŠ¹ì • íŒ¨í‚¤ì§€ì˜ ëª¨ë“  ë©”ì„œë“œì— ì ìš© |
| `@annotation(MyAnnotation)` | í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œì—ë§Œ ì ìš© |
| `@within(MyAnnotation)` | í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ê²½ìš° ì „ì²´ ë©”ì„œë“œì— ì ìš© |

---

## âœ… ì‹¤ì „ íŒ
- `@Around`ëŠ” `proceed()`ë¥¼ í˜¸ì¶œí•´ì•¼ë§Œ ì›ë˜ ë©”ì„œë“œê°€ ì‹¤í–‰ë¨
- `@Before`ì—ì„œëŠ” ì˜ˆì™¸ë¥¼ ë˜ì§€ë©´ **ë©”ì„œë“œ ì‹¤í–‰ ìì²´ê°€ ì°¨ë‹¨**ë¨
- AOPëŠ” ì™¸ë¶€ì—ì„œ í˜¸ì¶œëœ ë©”ì„œë“œì—ë§Œ ì ìš©ë˜ë¯€ë¡œ **ë‚´ë¶€ í˜¸ì¶œì€ í”„ë¡ì‹œë¥¼ í†µê³¼í•˜ì§€ ëª»í•¨**
- AOP í´ë˜ìŠ¤ëŠ” ë°˜ë“œì‹œ `@Aspect`, `@Component` ë‘˜ ë‹¤ í•„ìš”

---

ì´ íŒŒì¼ì€ AOP ì–´ë…¸í…Œì´ì…˜ê³¼ ì˜ˆì‹œë¥¼ ë¹ ë¥´ê²Œ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤ âœ…

